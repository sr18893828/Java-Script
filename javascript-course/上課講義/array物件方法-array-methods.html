<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Array 物件方法 Array Methods</title>
</head>

<body>
  <script>
    /*
    //屬性強制轉型
    let greeting = "Hi!";
    console.log(greeting);
    let greetingObj = new String("Hi!!");
    console.log(greetingObj);

    let numberObj = new Number(0);
    console.log(numberObj);

    let booleadObj = new Boolean(true);
    console.log(booleadObj);

    console.log(new Number("1"));
    console.log(new Boolean("true"));
    console.log(new Boolean(12));
    console.log(new Boolean(0));
    console.log(new Boolean(""));
    */

    let fruits = ["orange", "grape", "lemon", "apple", "banana"];
    // let fruitsArray = new Array("orange", "grape", "lemon", "apple", "banana")

    /*
    console.log(fruitsArray);
    fruits.push("peach"); //加入數值，其加入在最後
    console.log(fruits.push("peach"));
    console.log(fruits.pop()); //移除最後一筆
    console.log(fruits.shift()); //移除第一筆
    console.log(fruits.unshift("peach", "watermelon")); //加入數值，其加入在前面
    */

    /*
    console.log(fruits.slice(2, 3)); //切開分割
    console.log(fruits.slice(1)); //切開分割
    console.log(fruits.slice(-2));  //切開分割
    */
    //console.log(fruits.splice(1, 2, "watermelon", "peach")); //刪除指定位置元素並加入新元素

    /*
    //加入陣列函數
    let fruits2 = ["watermelon", "peach"];
    let fruits3 = ["kiwi"];
    console.log(fruits.concat(fruits2, fruits3));//第一種作法

    let newFruits = [...fruits, ...fruits2, ...fruits3]//第二種方法
    console.log(newFruits);
    */

    //console.log(fruits.sort()); //排序，會改變原始陣列

    //console.log(fruits.reverse());//反轉元素順序，會改變原始陣列

    /*
    //尋找index
    console.log(fruits.indexOf("grape"));
    console.log(fruits.indexOf("cherry"));
    let texstFruits = [...fruits];
    texstFruits.push("orange");
    console.log(texstFruits.indexOf("orange"));
    */

    /*
    //查詢是否含有元素
    console.log(fruits.includes("grape"));
    console.log(fruits.includes("cherry"));
    */

    /*
    fruits.forEach(function (fruit, index, fruits) {
      console.log(`水果:${fruit}, index:${index},在${fruits}水果籃之中`);
    });

    fruits.forEach(function (fruit, i, fruits) {
      console.log(`水果: ${fruit}, index:${i}, 在${fruits}水果籃之中`);
    });

    fruits.forEach((item, i, arr) => {
      console.log(item);
    })

    console.log(fruits)
    */
    /*
    console.log(fruits[fruits.length - 1]);
    console.log(fruits.at(-1));
    */

    const products = [
      { name: '筆記型電腦', category: '電子產品', price: 30000, stock: 10 },
      { name: '襯衫', category: '服裝', price: 200, stock: 500 },
      { name: '咖啡機', category: '家電', price: 4000, stock: 5 },
      { name: '書籍', category: '文學', price: 300, stock: 100 },
      { name: '智能手機', category: '電子產品', price: 20000, stock: 15 },
      { name: '牛仔褲', category: '服裝', price: 600, stock: 30 },
    ];

    let productNames = products.map((item, i, arr) => {
      return item.name;
    }); //提取陣列屬性

    //let productNames1 = products.map((item, i, arr) => item.name);

    //let productNames2 = products.map((item) => item.name);
    console.log(productNames);
    //console.log(productNames1);
    //console.log(productNames2);

    //篩選指定元素
    let electronicProducts = products.filter((item, i, arr) => {
      return item.category === "電子產品";
    });
    console.log(electronicProducts);

    //篩選後，顯示除了指定以外的元素
    let otherProducts = products.filter((item) => {
      return item.category !== "文學";
    });
    console.log(otherProducts);


    let acendProducts = products.sort((a, b) => {
      return a.price - b.price;
    });
    console.log(acendProducts);

    let decendProducts = products.sort((a, b) => {
      return b.price - a.price;
    });
    console.log(decendProducts);

    const checkStock = products.some((item) => item.stock < 10);
    console.log(checkStock);

    const checkPrice = products.every((item) => item.price > 1000);
    console.log(checkPrice);

    const apparelProduct = products.find((item) => item.category === "服裝");

    const noResultProduct = products.find((item) => item.stock > 1000);
    console.log(apparelProduct);
    console.log(noResultProduct);

    const apparelIndexProduct = products.findIndex((item) => item.category === "服裝");

    const noResultIndexProduct = products.findIndex((item) => item.stock > 1000);
    console.log(apparelIndexProduct);
    console.log(noResultIndexProduct);

    /*
    arr.reduce((accumulator, currenValue)=>{
      return accumulator + currenValue;
    },initialvalues);
    */

    const totalStock = products.reduce((total, item) => total + item.stock, 0);
    console.log(totalStock);
  </script>
</body>

</html>